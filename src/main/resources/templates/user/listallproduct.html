<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <title>home</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS v5.2.1 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    <!-- css -->
    <link rel="stylesheet" th:href="@{/user/home/assets/style.css}" type="text/css">

    <!-- Asom font -->

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

</head>

<body>
<header th:replace="fragments/navbar :: header-nav"></header>

<main >



    <div class="container mt-5">
        <div class="row">

            <div class="col-md-3">
                <label for="sizeSelect" class="form-label">Select Category:</label>
                <select class="form-select" id="categorySelect">
                    <option >All Category</option>
                    <option th:each="category : ${categories}" th:value="${category.categoryName}" th:text="${category.categoryName}"></option>

                    <!-- Add more sizes as needed -->
                </select>
            </div>
            <!-- Brand Select -->
            <div class="col-md-3">
                <label for="brandSelect" class="form-label">Select a Brand:</label>
                <select class="form-select" id="brandSelect">
                    <option >All Brands</option>
                    <option th:each="brand : ${brands}" th:value="${brand.brandName}" th:text="${brand.brandName}"></option>
                    <!-- Add more brands as needed -->
                </select>
            </div>

            <!-- Size Select -->


            <!-- Price Range Select -->
            <div class="col-md-3">
                <label class="form-label">Select Price Range:</label>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="priceRange" value="0-25000" id="priceRange1">
                    <label class="form-check-label" for="priceRange1">Below ₹2,0000</label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="radio" name="priceRange" value="20000-50000" id="priceRange2">
                    <label class="form-check-label" for="priceRange2">500000- ₹20000</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="priceRange" value="50000-100000" id="priceRange3">
                    <label class="form-check-label" for="priceRange2">₹80000- ₹50000</label>
                </div>


                <!-- Add more price ranges as needed -->
            </div>

            <!-- Filter Button -->
            <div class="col-md-3">
                <button type="button" class="btn btn-primary mt-4" onclick="applyFilter()">Apply Filter</button>
            </div>
        </div>
    </div>

    <!-- carousel-->

    <!--end carousel-->

    <!-- list new porodect-->
    <section style="background-color: #eee; margin-left: 8%;margin-top: 20px; margin-right: 8%;">
        <!-- <div class="container py-5">
          <div class="row"> -->

        <div  class="container-fluid bg-trasparent my-4 p-3" style="position: relative">




            <div class="row row-cols-1 row-cols-xs-2 row-cols-sm-2 row-cols-lg-4 g-3">


                <div th:each="product :${products}" class="col hp">
                    <div  class="card h-100 shadow-sm">
                        <a href="#">
                            <img style="object-fit: cover" width="100%" height="300px" th:src="@{'/uploads/'+${product.imagesPath[0]}}" class="card-img-top" alt="product.title" />
                        </a>

                        <div class="label-top shadow-sm">
                            <a class="text-white" href="#" ></a>

                        </div>
                        <div class="card-body">
                            <div class="clearfix mb-3">
                                <span th:text="${product.price}" class="float-start badge rounded-pill bg-success"><span>$</span></span>

                                <span class="float-end"><a href="#" class="small text-muted text-uppercase aff-link">reviews</a></span>
                            </div>
                            <h5 class="card-title text-truncate">
                                <a th:text="${product.productName}" target="_blank" th:href="@{'/user/product-details/'+ ${product.productID}}"></a>
                            </h5>

                            <div class="d-grid gap-2 my-4">

                                <a href="#" class="btn btn-warning bold-btn">add to cart</a>

                            </div>
                            <div class="clearfix mb-1">

                                <span class="float-start"><a href="#"><i class="fas fa-question-circle"></i></a></span>

                                <span class="float-end">
                        <i class="far fa-heart" style="cursor: pointer"></i>

                      </span>

                            </div>
                        </div>
                    </div>
                </div>
            </div>

<!--            fillter-->



        </div>
    </section>



    <!-- end list new porodect-->


    <!---- catogory -->




    <!--end catogery -->

<!--    <div th:if="${totalPages > 1}" class="text-center my-4">-->
<!--        <ul class="pagination">-->
<!--            <li th:class="${currentPage == 0} ? 'page-item disabled' : 'page-item'">-->
<!--                <a th:href="@{${currentPage > 0} ? '/yourpath?page=' + (currentPage - 1) + '&size=' + size : '#'}" class="page-link">&laquo;</a>-->
<!--            </li>-->

<!--            <li th:each="pageNumber : ${#numbers.sequence(0, totalPages - 1)}" th:class="${currentPage == pageNumber} ? 'page-item active' : 'page-item'">-->
<!--                <a th:href="@{'/yourpath?page=' + pageNumber + '&size=' + size}" class="page-link" th:text="${pageNumber + 1}"></a>-->
<!--            </li>-->

<!--            <li th:class="${currentPage == totalPages - 1} ? 'page-item disabled' : 'page-item'">-->
<!--                <a th:href="@{${currentPage < totalPages - 1} ? '/yourpath?page=' + (currentPage + 1) + '&size=' + size : '#'}" class="page-link">&raquo;</a>-->
<!--            </li>-->
<!--        </ul>-->
<!--    </div>-->

    <div style="width: 100%;" class="">
        <nav  aria-label="Page navigation example ">
            <ul class="pagination" style="justify-content: center">
                <li th:if="${products.hasPrevious}" class="page-item">
                    <a th:href="@{'/user/shop/allproducts?page=' + ${products.number - 1}}" title="previous page" class="page-link">
                        Previous
                        <!--                <svg fill="currentColor"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>-->
                    </a>
                </li>

                <li th:each="i : ${#numbers.sequence(0, products.totalPages - 1)}"
                    th:class="${products.number == i ? 'page-active' : ''}" class="page-item">
                    <a th:href="@{'/user/shop/allproducts?page=' + ${i}}" th:text="${i + 1}" class="page-link"></a>
                </li>

                <li th:if="${products.hasNext}" class="page-item">
                    <a th:href="@{'/user/shop/allproducts?page=' + ${products.number + 1}}" title="next page" class="page-link">
                        Next
                        <!--                <svg fill="currentColor"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>-->
                    </a>
                </li>
            </ul>
        </nav>
    </div>
<!--    <nav aria-label="Page navigation example">-->
<!--        <ul class="pagination">-->
<!--            <li class="page-item"><a class="page-link" href="#">Previous</a></li>-->
<!--            <li class="page-item"><a class="page-link" href="#">1</a></li>-->
<!--            <li class="page-item"><a class="page-link" href="#">2</a></li>-->
<!--            <li class="page-item"><a class="page-link" href="#">3</a></li>-->
<!--            <li class="page-item"><a class="page-link" href="#">Next</a></li>-->
<!--        </ul>-->
<!--    </nav>-->







</main>
<footer>
    <!-- Grid container -->
    <div  class="container pt-4 " style=" background-color: rgba(var(--bs-light-rgb),var(--bs-bg-opacity))!important; padding-left: 25%;" >
        <!-- Section: Social media -->
        <section  class="mb-4">
            <!-- Facebook -->
            <a
                    data-mdb-ripple-init
                    class="btn btn-link btn-floating btn-lg text-body m-1"
                    href="#!"
                    role="button"
                    data-mdb-ripple-color="dark"
            ><i class="fab fa-facebook-f"></i
            ></a>

            <!-- Twitter -->
            <a
                    data-mdb-ripple-init
                    class="btn btn-link btn-floating btn-lg text-body m-1"
                    href="#!"
                    role="button"
                    data-mdb-ripple-color="dark"
            ><i class="fab fa-twitter"></i
            ></a>

            <!-- Google -->
            <a
                    data-mdb-ripple-init
                    class="btn btn-link btn-floating btn-lg text-body m-1"
                    href="#!"
                    role="button"
                    data-mdb-ripple-color="dark"
            ><i class="fab fa-google"></i
            ></a>

            <!-- Instagram -->
            <a
                    data-mdb-ripple-init
                    class="btn btn-link btn-floating btn-lg text-body m-1"
                    href="#!"
                    role="button"
                    data-mdb-ripple-color="dark"
            ><i class="fab fa-instagram"></i
            ></a>

            <!-- Linkedin -->
            <a
                    data-mdb-ripple-init
                    class="btn btn-link btn-floating btn-lg text-body m-1"
                    href="#!"
                    role="button"
                    data-mdb-ripple-color="dark"
            ><i class="fab fa-linkedin"></i
            ></a>
            <!-- Github -->
            <a
                    data-mdb-ripple-init
                    class="btn btn-link btn-floating btn-lg text-body m-1"
                    href="#!"
                    role="button"
                    data-mdb-ripple-color="dark"
            ><i class="fab fa-github"></i
            ></a>
        </section>
        <!-- Section: Social media -->
    </div>
    <!-- Grid container -->

    <!-- Copyright -->
    <div class="text-center p-3 " style="background-color: rgba(0, 0, 0, 0.05);">
        © 2020 Copyright:
        <a class="text-body" href="#">MDBootstrap.com</a>
    </div>

</footer>
<!-- Bootstrap JavaScript Libraries -->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous">
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
        integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous">
</script>

<!--<script>-->
<!--    function applyFilter() {-->
<!--        // Get selected filter values-->
<!--        var selectedBrand = document.getElementById("brandSelect").value;-->
<!--        var selectedCategory = document.getElementById("categorySelect").value;-->
<!--        var selectedPriceRange = document.querySelector('input[name="priceRange"]:checked').value;-->

<!--        // Construct the URL with non-null filter parameters-->
<!--        var url = '/user/shop/allproducts?';-->

<!--        if (selectedBrand) {-->
<!--            url += 'brand=' + encodeURIComponent(selectedBrand) + '&';-->
<!--        }-->

<!--        if (selectedCategory) {-->
<!--            url += 'category=' + encodeURIComponent(selectedCategory) + '&';-->
<!--        }-->

<!--        if (selectedPriceRange) {-->
<!--            url += 'priceRange=' + encodeURIComponent(selectedPriceRange);-->
<!--        }-->

<!--        // Remove trailing '&' if any-->
<!--        if (url.endsWith('&')) {-->
<!--            url = url.slice(0, -1);-->
<!--        }-->

<!--        // Redirect to the filtered URL if there are any non-null filter values-->
<!--        if (url !== '/user/allproducts?') {-->
<!--            window.location.href = url;-->
<!--        }-->
<!--    }-->
<!--</script>-->

<!--<script>-->
<!--    function applyFilter() {-->
<!--        // Get selected filter values-->
<!--        var selectedBrand = document.getElementById("brandSelect").value;-->
<!--        var selectedCategory = document.getElementById("categorySelect").value;-->
<!--        var selectedPriceRange = document.querySelector('input[name="priceRange"]:checked');-->

<!--        // Construct the URL with non-null filter parameters-->
<!--        var url = '/user/shop/allproducts?';-->

<!--        if (selectedBrand) {-->
<!--            url += 'brand=' + encodeURIComponent(selectedBrand) + '&';-->
<!--        }-->

<!--        if (selectedCategory) {-->
<!--            url += 'category=' + encodeURIComponent(selectedCategory) + '&';-->
<!--        }-->

<!--        if (selectedPriceRange) {-->
<!--            url += 'priceRange=' + encodeURIComponent(selectedPriceRange.value);-->
<!--        }-->

<!--        // Remove trailing '&' if any-->
<!--        if (url.endsWith('&')) {-->
<!--            url = url.slice(0, -1);-->
<!--        }-->

<!--        // Redirect to the filtered URL if there are any non-null filter values-->
<!--        if (url !== '/user/allproducts?') {-->
<!--            window.location.href = url;-->
<!--        }-->
<!--    }-->
<!--</script>-->

<script>
    function applyFilter() {
        // Get selected filter values
        var selectedBrand = document.getElementById("brandSelect").value;
        var selectedCategory = document.getElementById("categorySelect").value;
        var selectedPriceRange = document.querySelector('input[name="priceRange"]:checked');

        // Construct the URL with non-null and non-default filter parameters
        var url = '/user/shop/allproducts?';

        if (selectedBrand && selectedBrand !== 'All Brands') {
            url += 'brand=' + encodeURIComponent(selectedBrand) + '&';
        }

        if (selectedCategory && selectedCategory !== 'All Category') {
            url += 'category=' + encodeURIComponent(selectedCategory) + '&';
        }

        if (selectedPriceRange) {
            url += 'priceRange=' + encodeURIComponent(selectedPriceRange.value);
        }

        // Remove trailing '&' if any
        if (url.endsWith('&')) {
            url = url.slice(0, -1);
        }

        // Redirect to the filtered URL if there are any non-null filter values

            window.location.href = url;

    }
</script>




</body>

</html>